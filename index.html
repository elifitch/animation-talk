<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>reveal.js - The HTML Presentation Framework</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<link rel="stylesheet" href="css/theme/pres.css">

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>
		<!-- <div class="animated-gradient"></div> -->
		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>Beyond Keyframes</h1>
					<h3>Modern web animation techniques</h3>
				</section>

				<section>
					<h1>Where I shreik about</h1>
					<h2 class="fragment">How to betterify your CSS animations</h2>
					<h2 class="fragment">How the browser makes all your pretty pixels</h2>
					<h2 class="fragment">When JS animation makes sense</h2>
					<h2 class="fragment">How JS improves workflow & opens possibilites</h2>
					<h2 class="fragment">SMIL?</h2>
					<h2 class="fragment">Please hold "boo-urns" until the end.</h2>
				</section>

				<section>
					<h1>So, who is this guy?</h1>
					<h3 class="emojicon fragment">¯\(º_o)/¯</h3>
				</section>

				<section>
					<h1>Hi, I'm Eli</h1>
					<h3 class="fragment grow">@elifitch</h3>
				</section>

				<section data-background="img/earth-large.jpg" class="work">
					<h1 class="pull-right fragment fade-out">I work here.</h1>
					<!-- picture of earth with isl and arrow appearing on second click -->
					<svg class="fragment isl-arrow" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 3564 2005" enable-background="new 0 0 3564 2005" xml:space="preserve">
						<polygon fill="#00FBE6" points="3509,1740 3078,1740 2994,1660.1 2994,1397.8 3347.3,1397.9 3509,1554.9 "/>
						<g>
							<polygon points="3056,1458 3119,1458 3119,1680.7 3056,1618.2 	"/>
							<polygon points="3310,1458.3 3373,1520 3373,1618 3447,1618 3447,1680 3310,1680 	"/>
							<path d="M3186.3,1458c-40.3,0-61.3,20.7-61.3,61c0,0.5,0,1,0,1h59.2h104.3h17.5v-62C3306,1458,3197.1,1458,3186.3,1458z"/>
							<g>
								<path d="M3186.6,1599c6.6,0,59.4,0,59.4,0v12h60c0-7,0-9.5,0-11.4c0-40.3-18.7-62.6-59-62.6c-8.9,0-64,0-64,0v-10h-58
									c0,5,0,8.4,0,12.1C3125,1579.4,3146.3,1599,3186.6,1599z"/>
								<path d="M3125,1618v62c0,0,91.1,0,122,0c40,0,59-20,59-60.2c0-0.6,0-1.8,0-1.8H3125z"/>
							</g>
						</g>
						<path fill="none" stroke="#FFFFFF" stroke-width="4" stroke-dasharray="5000" stroke-miterlimit="10" d="M3018,1765c0,0-489.6,410.3-905.6-253.7
							c0,0,64,1,162,54.5l-134,97.5c0,0-17.3-109.2-17.3-146">
							<animate attributeType="XML" attributeName="stroke-dashoffset" from="5000" to="0" dur="10s" repeatCount="1" fill="freeze"/>
						</path>
	 				</svg>
				</section>

				<section class="particle" data-background="#F5F5F5">
					<h1>And I do a lot of 
					<span class="fragment" style="display: block;">animation,</span>
					<span class="fragment" style="display: block;">interaction design,</span>
					<span class="fragment" style="display: block;">and...whatever this is.</span>
					</h1>
				</section>

				<section>
					<h1>Web Animation Technologies</h1>
					<h3><span class="fragment">CSS&nbsp;</span><span class="fragment">|&nbsp;Javascript</span></h3>
				</section>

				<section>
					<h1>CSS is great for <span class="fragment shrink" style="display: inline-block">small</span> state changes</h1>
					<aside class="notes">
						This applies to most interactions, really.
						Think changing the background on a ghost button, animating a button press to give the sense of 3d.
						CSS makse such small changes really easy and quick to whip up, making carelessness easy too.
						Using javascript to manage states is cool, but you can store your animations in a class and transition between them, CSS is driving that anim
					</aside>
				</section>

				<section class="properties">
					<h1>CSS properties are not created equal.</h1>
					<div class="fragment left-container fade-out"></div>
					<div class="fragment translate-container"></div>
					
					<!-- <div class="translate"></div> -->
					<aside class="notes">
						
					</aside>
				</section>

				<section>
					<h1>Performance is<br><span class="fragment">fucking</span><br>important</h1>
					
					<!-- <div class="translate"></div> -->
					<aside class="notes">
						Talk about the facebook study
					</aside>
				</section>

				<section>
					<h1>Browser rendering steps</h1>
					<h3 class="fragment">Layout</h3>
					<h3 class="fragment">Paint</h3>
					<h3 class="fragment">Composite</h3>

					<aside class="notes">
						Describe layering, composting, painting.
						Layout is figuring out where everything is on the screen and how big it is.

						Avoid layout: layout is really really fucking expensive
						Also if you're changing heights, widths etc can change the position of other elements it causes more layout changes and more and more and more and OH GOD
					</aside>
				</section>

				<section>
					<h1>Why layout is expensive</h1>
					<div class="fragment" style="display: inline-block; width: 40%; margin-right: 5%; text-align: left; vertical-align: top">
						<h3>Height</h3>
						<hr>
						<img src="img/layout-paint-composite.png" style="max-height: 500px"/>
					</div>

					<div class="fragment" style="display: inline-block; width: 40%; margin-right: 5%; text-align: left; vertical-align: top">
						<h3>Transform</h3>
						<hr>
						<img src="img/just-composite.png" style="max-height: 500px"/>
					</div>

					<aside class="notes">
						Describe this process
					</aside>
				</section>

				<section>
					<h1>Property breakdown</h1>
					<div class="fragment" style="display: inline-block; width: 25%; margin-right: 10%; text-align: left">
						<h3>Layout</h3>
						<hr>
						<p>width/height</p>
						<p>top/right/bottom/left</p>
						<p>padding</p>
						<p>font-size</p>
					</div>
					<div class="fragment" style="display: inline-block; width: 25%; margin-right: 10%; text-align: left">
						<h3>Paint</h3>
						<hr>
						<p>color</p>
						<p>background</p>
						<p>box-shadow</p>
						<p>border-radius</p>
					</div>
					<div class="fragment" style="display: inline-block; width: 25%; text-align: left">
						<h3>Composite</h3>
						<hr>
						<p>opacity</p>
						<p>scale</p>
						<p>rotate</p>
						<p>translate</p>
					</div>
					
					<aside class="notes">
						be mindful of layout in JS too, CSS often triggered by JS
					</aside>
				</section>

				<section>
					<h1>TLDR:</h1>
					<h3 class="fragment" style="text-align: left">opacity/transforms > height/width/background/etc</h3>
					<h3 class="fragment" style="text-align: left">Don't stress too bad about color/background unless doing it to a shitton of elements, in a huge</h3>
					<h3 class="fragment" style="text-align: left">Try not to animate layout triggering properties if you can</h3>
					<!-- <h3 class="fragment" style="text-align: left">Avoid Layout thrash</h3>
					<h3 class="fragment" style="text-align: left">Be mindful of your paint areas</h3>
					<h3 class="fragment" style="text-align: left">Use the GPU when you can</h3> -->
					
					<aside class="notes">
						Evaluate how much of the screen will get relayed out or repainted. If you have a fixed background on the page, when you scroll the browser has to continually repaint because elements are changing relative to the fixed background behind them.

						Avoid running a shitton of layout operations like duh. If you're doing a loop where you have to read styles, store it in a var beforehand so you wont continually ask the browser to read the size of an element
					</aside>
				</section>

				<section>
					<h1>Why not use CSS to animate everything?</h1>
					<h2 class="fragment">It can be a little limiting.</h2>
					
					<aside class="notes">
						I know which properties give the most performance now, I can optimize my CSS animations, why not use for everything.
					</aside>
				</section>

				<section data-background="https://gimmebar-assets.s3.amazonaws.com/4f4fe1d47cd85.gif">
					<h1>JS gives you the power.</h1>
					
					<aside class="notes"></aside>
				</section>

				<section>
					<h2 class="fragment">Independent transforms</h2>
					<!-- <iframe id="cp_embed_5617a718d5abb68caae7c0600236e7b1" src="//codepen.io/GreenSock/embed/5617a718d5abb68caae7c0600236e7b1?height=300&amp;theme-id=1&amp;slug-hash=5617a718d5abb68caae7c0600236e7b1&amp;user=GreenSock&amp;default-tab=result&amp;animations=run" scrolling="no" frameborder="0" height="300" allowtransparency="true" allowfullscreen="true" class="cp_embed_iframe" style="width: 100%; overflow: hidden;"></iframe> -->
					<h2 class="fragment">Complex easing (physics!)</h2>
					<h2 class="fragment">Animating weird stuff</h2>
					<h2 class="fragment">Animating along a curve or path</h2>
					<h2 class="fragment">Randomized animations</h2>
					<h2 class="fragment">IE8 support! <span class="fragment">hahaha </span><span class="fragment">hah </span><span class="fragment">haa... </span><span class="fragment">but seriously. </span></h2>
					
					<aside class="notes">
						BREAK INTO SLIDES
					</aside>
				</section>

				<section>
					<h1 class="js-ind-trans-target">Independent transforms</h1>
					<span class="js-ind-trans-trigger fragment"></span>
					<!-- <iframe id="cp_embed_5617a718d5abb68caae7c0600236e7b1" src="//codepen.io/GreenSock/embed/5617a718d5abb68caae7c0600236e7b1?height=500&amp;theme-id=1&amp;slug-hash=5617a718d5abb68caae7c0600236e7b1&amp;user=GreenSock&amp;default-tab=result&amp;animations=run" scrolling="no" frameborder="0" height="500" allowtransparency="true" allowfullscreen="true" class="cp_embed_iframe" style="width: 100%; overflow: hidden;"></iframe> -->
				</section>

				<section>
					<h1>Complex easing (physics!)</h1>
					<!-- <iframe id="cp_embed_hyeDg" src="//codepen.io/julianshapiro/embed/hyeDg?height=500&amp;theme-id=8287&amp;slug-hash=hyeDg&amp;default-tab=result&amp;user=julianshapiro" scrolling="no" frameborder="0" height="500" allowtransparency="true" allowfullscreen="true" class="cp_embed_iframe" style="width: 100%; overflow: hidden;"></iframe> -->
				</section>

				<section>
					<h1>Animating weird stuff</h1>
					<span class="js-show-gradient fragment"></span>
					<span class="js-hide-gradient fragment"></span>
				</section>

				<section>
					<h1>Animating along a curve or path</h1>
					
				</section>

				<section>
					<h1>jQuery $.animate is the devil.</h1>
					
					<aside class="notes">
						A lot of people (maybe not y'all, but still a lot of people) conflate jQuery and Javascript animation.
						jQuery takes a bad approach to animating, using setinterval instead of requestanimationframe
					</aside>
				</section>

				<section>
					<h1>setInterval vs. requestAnimationFrame</h1>
					<img class="fragment" src="img/setinterval.png"/>
					<aside class="notes">
						With RAF "The browser can optimize concurrent animations together into a single reflow and repaint cycle, leading to higher fidelity animation. For example, JS-based animations synchronized with CSS transitions or SVG SMIL." Also Animations in inactive tabs will stop, allowing the CPU to chill. It's also synced with refresh rate so you won't drop frames
					</aside>
				</section>

				<section>
					<h1>RAF isn't scary</h1>

					<pre>
						<code class="javascript fragment">
var opacity = 0;

// runs every 17ms to try to achieve 60fps (1000ms/60 ~= 17ms).
var fadeIn = setInterval(function() {
	if(opacity < 1) {
		element.style.opacity = (opacity += 0.05);
	} else {
		clearInterval(fadeIn)
	}
}, 17);
						</code>
					</pre>

					<pre>
						<code class="javascript fragment">
// requestAnimationFrame: Attempts to run at 60fps based on
// whether the browser is in an optimal state.
var opacity = 0;

var fadeIn = function() {
       if(opacity < 1){
         window.requestAnimationFrame(fadeIn);
         element.style.opacity = (opacity += 0.05);
       }
}

fadeIn();
						</code>
					</pre>
						

					<aside class="notes">
						You can also get a start time and continue the animation until a certain amount of progress has happened if you want to have time based animations, or wrap it in a settimeout with the timing set as 1000/desiredFramerate
						If there's just one "complex" anim in a project (simple button hovers and shit but one rotating gradient), just roll your own JS animation
						However, if you have more than a handful of these, really really consider using a library.
					</aside>
				</section>

				<!-- <section>
					<h1>Don't forget your library card</h1>
					<h2 class="fragment">GSAP</h2>
					<h2 class="fragment">Velocity.js</h2>
					
					<aside class="notes">

					</aside>
				</section> -->

				<section>
					<h1>Workflow</h1>
					<pre>
						<code class="css">
.logo {
	animation: myAnimation 2s linear forwards;
}
@keyframes myAnimation {
  0% {
    opacity: 0;
    transform: scale(0, 0);
  }
  25% {
    opacity: 1;
    transform: scale(1, 1);
  }
  50% {
    transform: translate(0px, 0);
  }
  100% {
    transform: translate(100px, 0);
  }
}
						</code>
					</pre>

					<p class="fragment">So what happens when somebody wants the translate to take an extra 400ms?</p>
					
					<!-- <div class="translate"></div> -->
					<aside class="notes"></aside>
				</section>

				<section data-background="img/blinds.gif">
					<h2 class="fragment">This, basically.</h2>
					<aside class="notes">
						Managing CSS keyframes, especially when they get complex, can be hard, it can be time consuming.
						Impedes experimentation.
						And in the end, when you want to get creative, CSS animation is limiting(no independent transforms, different steps with different easing etc)
					</aside>
				</section>

				<section>
					<h1>Lib your life.</h1>
					<div class="stack">
					<pre class="stack__item fragment">
						<code class="css">
.logo {
	animation: myAnimation 2s linear forwards;
}
@keyframes myAnimation {
  0% {
    opacity: 0;
    transform: scale(0, 0);
  }
  25% {
    opacity: 1;
    transform: scale(1, 1);
  }
  50% {
    transform: translate(0px, 0);
  }
  100% {
    transform: translate(100px, 0);
  }
}
						</code>
					</pre>

					<pre class="stack__item fragment">
						<code class="javascript">
var el = document.getElementsByClassName('logo')

Velocity(el, {
    opacity: [1, 0],
    scale:[1, 0]
  },{
    duration:500,
    easing: "linear"
  }
);
Velocity(el, {
    translateY: '100px'
  },{
    duration:1000,
    delay:500,
    easing: "linear"
  }
);
						</code>
					</pre>

					<pre class="stack__item fragment">
						<code class="javascript">
var el = document.getElementsByClassName('logo')

TweenLite.fromTo(el, .5, {
    opacity:0,
    scale:0,
    ease:"Linear.easeNone"
  },{
    opacity:1,
    scale:1,
    ease:"Linear.easeNone",
    onComplete: function(){
      TweenLite.to(el, 1, {
        delay:.5,
        y:100,
        ease:"Linear.easeNone"
      });
    }
  }
);
						</code>
					</pre>
					</div><!--end stack-->
					<aside class="notes">
						Libraries make the type of rapid changes and experimentation ESSENTIAL to creating good animations totally trivial.
						Easier than wrangling with keyframes, and yeah, probably easier than rolling your own RAF loops.
						Libraries make for an easier workflow. This is SO important.
					</aside>
				</section>

				<section>
					<h1>Moar toys:</h1>
					<h3 class="fragment">Reverse / yoyo</h3>
					<h3 class="fragment">TweenLite.from</h3>
					<h3 class="fragment">Sequencing</h3>
					<h3 class="fragment">Granular control</h3>
					<aside class="notes">
						BREAK INTO SLIDES
					</aside>
				</section>

				<section>
					<h1 class="fragment fade-out">Workflow is important</h1>
					<h1 class="fragment">Easier changes</h1>
					<h1 class="fragment">More experimentation</h1>
					<h1 class="fragment">Better work</h1>
					<aside class="notes">
						
					</aside>
				</section>

				<section>
					<h1>Performance</h1>
					<h3 class="fragment">Global timing loop for all animations</h3>
					<h3 class="fragment">Going to impressive lengths to minimize layout thrash (seeing a pattern there?)</h3>
					<aside class="notes">
						Timer optimization fixes 2 issues:
						1) too many timers firing at once reduces frame rates due to the browser’s overhead of maintaining them, and 2) improperly marking the time at which your animation begins results in dropped frames (usually you have the animation start when you click the button, but due to a myriad of factors like CPU overhead, other JS logic at the same time, etc) can cause a delay in when you start to see the anim, dropping early frames.

						You could write these optimizations into your own hand crafted animation code, but then A. your code becomes harder to manage, and B. you end up creating an animation library yourself.
					</aside>
				</section>

				<section>
					<h1>Another dependency</h1>
					<h1 class="fragment">le UGH!</h1>
					<aside class="notes">
						Velocity ~35kb
						TweenLite & CSSPlugin ~60kb
					</aside>
				</section>

				<section>
					<h1>Don't be a stupid.</h1>
					<h1 class="fragment">Weigh the costs and benefits.</h1>
					<aside class="notes">
						
					</aside>
				</section>

				

			</div>

		</div>

		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>
		<script src="js/velocity.min.js"></script>
		<!--<script src="js/tweenlite.min.js"></script>
		<script src="js/gsap-css-plugin.min.js"></script>-->
		<script src="js/tweenmax.min.js"></script>


		<script src="js/app.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: false,
				progress: false,
				history: true,
				center: true,
				width: 1200,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'linear', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
